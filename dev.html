<!DOCTYPE html>
<html>
<head>
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<title>EOL Treemap</title>

<link type="text/css" rel="stylesheet/less" type="text/css" media="all" href="css/vole.less" />
<link type="text/css" rel="stylesheet/less" type="text/css" media="all" href="css/treemap.less" />
<link type="text/css" rel="stylesheet/less" type="text/css" media="all" href="css/style.less" />
<link type="text/css" rel="stylesheet/less" type="text/css" media="all" href="css/right-panel.less" />

<!--[if IE]>
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<script src="js/lib/less/less.js" type="text/javascript"></script>
	<script type="text/javascript" charset="utf-8">
		less.env = "development";
		less.watch();
	</script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6/jquery.min.js"></script>
<script src="js/lib/jquery.tmpl.ca165f.js"></script>
<script src="js/eolapi.js"></script>
<script src="js/layout/treemap.js"></script>
<script src="js/layout/pivotTreemap.js"></script>
<script src="js/vole.js"></script>
<script src="js/sources/TreeAdapter.js"></script>
<script src="js/sources/EolAdapter.js"></script>
<script src="js/sources/TolWebAdapter.js"></script>
<script src="js/sources/NexmlAdapter.js"></script>

<script>
	jQuery(document).ready(function() {
		var url;
		
		vole.setContainerID("vole-container");
		vole.setView('nested');

		jQuery("#vole-container").bind("vole_view", function(event, url){
			//console.log("viewing " + url);
			//urlencode the url and show it as the location hash.
			location.hash = encodeURIComponent(url);
		});

		if (location.hash.length > 0) {
			url = decodeURIComponent(location.hash.slice(1));
		} else {
			url = 'http://www.eol.org/api/hierarchy_entries/1.0/33311700.json';
		}

		vole.view(url);
	});
</script>


</head>
<body>
<noscript>
  <div style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
    Your web browser must have JavaScript enabled
    in order for this application to display correctly.
  </div>
</noscript>

<div id='vole-container'></div>

</body>
</html>