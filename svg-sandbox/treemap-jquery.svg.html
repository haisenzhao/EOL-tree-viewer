<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' content='' />
<title>raphael svg with external css</title>
<!--[if IE]>
<script src='http://html5shiv.googlecode.com/svn/trunk/html5.js'></script>
<![endif]-->
<link rel='stylesheet/less' type='text/css' href='treemap.less'>
<link rel='stylesheet' type='text/css' href='../js/lib/jquery.svg/jquery.svg.css'> 

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>

<script src="../js/lib/jquery.svg/jquery.svg.js"></script>
<script src="../js/lib/jquery.svg/jquery.svgdom.js"></script>

<script src='../js/lib/less/less.js' type='text/javascript'></script>
<script type='text/javascript' charset='utf-8'>
    less.env = 'development';
    less.watch();
  </script>
</head>
<body style='background-color:black;margin:0px;'>
<div class='vole-view-nested-svg'></div>

<script>
	$(".vole-view-nested-svg").svg(onLoad);

	function onLoad(svg) {
		var g = svg.group({"class":"node root selectable"});
		
		border(g, 800, 800);
		head(g, "Chordata < Animalia");
		var b = body(g);

		node(b, 0, 0, 400, 800, "Amphibia");
		node(b, 400, 0, 400, 800, "Appendicularia");
	}

	function head(parent, text) {
		return $(".vole-view-nested-svg").svg('get').text(parent, 0, 16, text);
	}

	function border(parent, width, height) {
		return $(".vole-view-nested-svg").svg('get').rect(parent, 0, 0, width, height, 10, 10, {"class":"node selectable"});
	}

	function body(parent) {
		return $(".vole-view-nested-svg").svg('get').group(parent, {"class":"body children", "transform": "translate(0, 20)"});
	}

	function node(parent, tx, ty, width, height, label) {
		var g = $(".vole-view-nested-svg").svg('get').group(parent, {"class": "node selectable", "transform": "translate(" + tx + ", " + ty + ")"});

		border(g, width, height - 20);
		head(g, label);

		return g;
	}
	
</script>

</body>
</html>